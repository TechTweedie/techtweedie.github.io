<!DOCTYPE html>
<html lang="en">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Backup Dataverse Development Environment - Tech Tweedie</title><meta name="description" content="Ever wondered what would happen if you lost your development environment? How do you feel about having to do all of that work again? What about if you spot a problem days later? Can you remember the value you changed three days ago in that flow? Have you ever seen someone delete the website record by mistake."><meta property="og:url" content="http://localhost:1313/posts/backup-dataverse-development-environment/">
  <meta property="og:site_name" content="Tech Tweedie">
  <meta property="og:title" content="Backup Dataverse Development Environment">
  <meta property="og:description" content="Ever wondered what would happen if you lost your development environment? How do you feel about having to do all of that work again? What about if you spot a problem days later? Can you remember the value you changed three days ago in that flow? Have you ever seen someone delete the website record by mistake.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-03T07:00:00+01:00">
    <meta property="article:modified_time" content="2024-09-03T07:00:00+01:00">
    <meta property="article:tag" content="Power Platform DevOps">
    <meta property="article:tag" content="DevOps">
    <meta property="article:tag" content="Backup">
    <meta property="og:image" content="http://localhost:1313/posts/backup-dataverse-development-environment/featureImage.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/posts/backup-dataverse-development-environment/featureImage.png">
  <meta name="twitter:title" content="Backup Dataverse Development Environment">
  <meta name="twitter:description" content="Ever wondered what would happen if you lost your development environment? How do you feel about having to do all of that work again? What about if you spot a problem days later? Can you remember the value you changed three days ago in that flow? Have you ever seen someone delete the website record by mistake.">
      <meta name="twitter:site" content="@itweedie">
<meta name="application-name" content="Tech Tweedie">
<meta name="apple-mobile-web-app-title" content="Tech Tweedie"><meta name="theme-color" content="#dddddd"><meta name="msapplication-TileColor" content="#dddddd"><link rel="icon" href="/safari-pinned-tab.svg"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#dddddd"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/posts/backup-dataverse-development-environment/" /><link rel="prev" href="http://localhost:1313/posts/securing-power-automate-for-production/" /><link rel="next" href="http://localhost:1313/posts/calculate-working-day/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css"><meta name="google-site-verification" content="SJUxP7HXovdJ6V7D8UPJm1ntx_D-yiuiC5XM70mnHCI" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Backup Dataverse Development Environment",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/posts\/backup-dataverse-development-environment\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "http:\/\/localhost:1313\/posts\/backup-dataverse-development-environment\/featureImage.png",
                            "width":  1792 ,
                            "height":  300 
                        }],"genre": "posts","keywords": "Power Platform DevOps, DevOps, Backup","wordcount":  1347 ,
        "url": "http:\/\/localhost:1313\/posts\/backup-dataverse-development-environment\/","datePublished": "2024-09-03T07:00:00+01:00","dateModified": "2024-09-03T07:00:00+01:00","publisher": {
            "@type": "Organization",
            "name": "itweedie"},"author": {
                "@type": "Person",
                "name": "itweedie"
            },"description": "Ever wondered what would happen if you lost your development environment? How do you feel about having to do all of that work again? What about if you spot a problem days later? Can you remember the value you changed three days ago in that flow? Have you ever seen someone delete the website record by mistake."
    }
    </script></head><body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Tech Tweedie"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/logo-01_150x150.png"
        data-srcset="/logo-01_150x150.png, /logo-01_150x150.png 1.5x, /logo-01_150x150.png 2x"
        data-sizes="auto"
        alt="/logo-01_150x150.png"
        title="/logo-01_150x150.png" /><span class="header-title-pre"> </span><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="https://www.youtube.com/channel/UCy1a2QSDVZNDwZf7KbNmoHQ" rel="noopener noreffer" target="_blank"> YouTube Channel </a><a class="menu-item" href="https://mightora.io/" rel="noopener noreffer" target="_blank"> Free Power Platform Tools </a><span class="menu-item delimiter"></span><a class="menu-item" href="/index.xml" title="RSS"><i class="fa-solid fa-rss fa-fw" title="RSS"></i> </a><a href="#" onclick="return false;" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fa-solid fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Tech Tweedie"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/logo-01_150x150.png"
        data-srcset="/logo-01_150x150.png, /logo-01_150x150.png 1.5x, /logo-01_150x150.png 2x"
        data-sizes="auto"
        alt="/logo-01_150x150.png"
        title="/logo-01_150x150.png" /><span class="header-title-pre"> </span><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="https://www.youtube.com/channel/UCy1a2QSDVZNDwZf7KbNmoHQ" title="" rel="noopener noreffer" target="_blank">YouTube Channel</a><a class="menu-item" href="https://mightora.io/" title="" rel="noopener noreffer" target="_blank">Free Power Platform Tools</a><div class="menu-item"><a href="/index.xml" title="RSS"><i class="fa-solid fa-rss fa-fw" title="RSS"></i> </a>
                <span>&nbsp;|&nbsp;</span><a href="#" onclick="return false;" class="theme-switch" title="Switch Theme">
                    <i class="fa-solid fa-adjust fa-fw"></i>
                </a>
            </div></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single" data-toc="disable"><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/backup-dataverse-development-environment/featureImage.png"
        data-srcset="/posts/backup-dataverse-development-environment/featureImage.png, /posts/backup-dataverse-development-environment/featureImage.png 1.5x, /posts/backup-dataverse-development-environment/featureImage.png 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/featureImage.png"
        title="Ever wondered what would happen if you lost your development environment? How do you feel about having to do all of that work again? What about if you spot a problem days later? Can you remember the value you changed three days ago in that flow? Have you ever seen someone delete the website record by mistake." /></div><div class="single-card" data-image="true"><h2 class="single-title animated flipInX">Backup Dataverse Development Environment</h2><div class="post-meta">
                <div class="post-meta-line"><span class="post-author"><a href="https://iantweedie.biz" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fa-solid fa-user-circle fa-fw"></i>itweedie</a></span>&nbsp;<span class="post-category">published in <a href="/categories/power-platform/"><i class="fa-regular fa-folder fa-fw"></i>Power Platform</a></span></div>
                <div class="post-meta-line"><span><i class="fa-regular fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2024-09-03">2024-09-03</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw"></i>&nbsp;1347 words</span>&nbsp;
                    <span><i class="fa-regular fa-clock fa-fw"></i>&nbsp;7 minutes</span>&nbsp;</div>
            </div>
            
            <hr><div class="details toc" id="toc-static"  data-kept="">
                    <div class="details-summary toc-title">
                        <span>Contents</span>
                        <span><i class="details-icon fa-solid fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#prerequisites-for-setting-up-a-pipeline-in-azure-devops-to-export-a-solution-from-dataverse">Prerequisites for Setting Up a Pipeline in Azure DevOps to Export a Solution from Dataverse</a></li>
    <li><a href="#create-our-backup-pipeline">Create our backup pipeline</a>
      <ul>
        <li><a href="#step-1-navigate-to-the-pipelines-screen">Step 1: Navigate to the Pipelines Screen</a></li>
        <li><a href="#step-2-create-first-pipeline">Step 2: Create first Pipeline</a></li>
        <li><a href="#step-3-pipeline-results">Step 3: Pipeline results</a></li>
        <li><a href="#step-4-request-parallelism">Step 4: Request Parallelism</a></li>
        <li><a href="#step-5-after-a-little-while-approval-comes-through">Step 5: After a little while approval comes through</a></li>
        <li><a href="#step-6-lets-try-again">Step 6: Lets try again</a></li>
        <li><a href="#step-7-lets-edit-our-pipeline">Step 7: Lets edit our pipeline</a></li>
        <li><a href="#step-8">Step 8</a></li>
        <li><a href="#step-9-set-a-sechedule-for-our-pipeline">Step 9: Set a sechedule for our pipeline</a></li>
        <li><a href="#step-10-update-our-variables">Step 10: Update our variables</a></li>
        <li><a href="#step-11-change-vm-pool">Step 11: Change VM pool</a></li>
        <li><a href="#step-12-check-out-our-repository">Step 12: Check out our Repository</a></li>
        <li><a href="#step-13-add-build-tools">Step 13: Add build tools</a></li>
        <li><a href="#step-14-add-who-am-i-and-then-test">Step 14: Add Who am I and then Test</a></li>
        <li><a href="#step-15-lets-test-it">Step 15: Lets test it</a></li>
        <li><a href="#step-16-set-version-number">Step 16: Set version number</a></li>
        <li><a href="#step-17-export-the-solution-as-managed">Step 17: Export the solution as Managed</a></li>
        <li><a href="#step-18-export-the-solution-as-un-managed">Step 18: Export the solution as Un-Managed</a></li>
        <li><a href="#step-19-unpack-solution">Step 19: Unpack solution</a></li>
        <li><a href="#step-20-commit-it">Step 20: Commit it</a></li>
        <li><a href="#step-21-lets-check-if-it-worked">Step 21: Lets check if it worked</a></li>
        <li><a href="#step-22-take-a-look-at-the-repo">Step 22: Take a look at the Repo</a></li>
      </ul>
    </li>
    <li><a href="#pipeline-script-in-full">Pipeline Script in Full</a></li>
    <li><a href="#conclusion--next-vlog">Conclusion &amp; Next vlog</a></li>
  </ul>
</nav></div>
                </div><div class="content" id="content"><h2 id="introduction">Introduction</h2>
<p>Ever wondered what would happen if you lost your development environment? How do you feel about having to do all of that work again? What about if you spot a problem days later? Can you remember the value you changed three days ago in that flow? Have you ever seen someone delete the website record by mistake.</p>
<p>These are all situations I have been in over the last few years, and having a Pipeline in place to ensure backup of your hard work is extremely important. That historical record can save you many hours.</p>
<p>Today am going to take you through how to create a DevOps Pipeline to backup your environment.</p>
<p><strong>You can watch the accompanying YouTube video here</strong>


    
    <div class="video">
      <iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allow="fullscreen"="allow="fullscreen"" loading="eager" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/18tm0wQE1DY?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" title="YouTube video"
      ></iframe>
    </div>
</p>
<h2 id="prerequisites-for-setting-up-a-pipeline-in-azure-devops-to-export-a-solution-from-dataverse">Prerequisites for Setting Up a Pipeline in Azure DevOps to Export a Solution from Dataverse</h2>
<ol>
<li>
<p><strong>Azure DevOps Organization</strong>:</p>
<ul>
<li>Ensure you have an Azure DevOps organization. If not, you can create one for free here.</li>
</ul>
</li>
<li>
<p><strong>Azure Repos</strong>:</p>
<ul>
<li>A repository where your pipeline code will reside.</li>
</ul>
</li>
<li>
<p><strong>Dataverse Environment</strong>:</p>
<ul>
<li>Ensure you have access to the Dataverse environment from which you want to export the solution.</li>
</ul>
</li>
<li>
<p><strong>Service Principal</strong>:</p>
<ul>
<li>Create a service principal in Azure Active Directory (AAD) with the necessary permissions to access Dataverse.</li>
</ul>
</li>
<li>
<p><strong>Power Platform Build Tools</strong>:</p>
<ul>
<li>Install the Power Platform Build Tools extension in Azure DevOps. This extension provides tasks to automate common build and deployment activities related to Power Platform.</li>
</ul>
</li>
</ol>
<h2 id="create-our-backup-pipeline">Create our backup pipeline</h2>
<h3 id="step-1-navigate-to-the-pipelines-screen">Step 1: Navigate to the Pipelines Screen</h3>
<p>From within our Devops Project screen, we need to navigate to <em>Pipelines &gt; Pipelines</em>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="vid1.gif"
        data-srcset="/posts/backup-dataverse-development-environment/vid1.gif, vid1.gif 1.5x, /posts/backup-dataverse-development-environment/vid1.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/vid1.gif"
        title="/posts/backup-dataverse-development-environment/vid1.gif" /></p>
<h3 id="step-2-create-first-pipeline">Step 2: Create first Pipeline</h3>
<p>Then we are going to create our first pipeline. To do this click on create Pipeline, then choose Azure Repos, and then choose starter pipeline. Once we have done that we will then run our pipeline.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="vid2.gif"
        data-srcset="/posts/backup-dataverse-development-environment/vid2.gif, vid2.gif 1.5x, /posts/backup-dataverse-development-environment/vid2.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/vid2.gif"
        title="/posts/backup-dataverse-development-environment/vid2.gif" /></p>
<h3 id="step-3-pipeline-results">Step 3: Pipeline results</h3>
<p>After running our pipeline for the first time we can see we have an issue, for our DevOps organisation, in this case TechTweedie we don&rsquo;t have parallelism. If you don&rsquo;t see this error and your pipeline runs, then please skip to step X
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="vid3.gif"
        data-srcset="/posts/backup-dataverse-development-environment/vid3.gif, vid3.gif 1.5x, /posts/backup-dataverse-development-environment/vid3.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/vid3.gif"
        title="/posts/backup-dataverse-development-environment/vid3.gif" /></p>
<h3 id="step-4-request-parallelism">Step 4: Request Parallelism</h3>
<p>To enable this we need to fill out this form <a href="https://aka.ms/azpipelines-parallelism-request" target="_blank" rel="noopener noreffer">https://aka.ms/azpipelines-parallelism-request</a>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="vid4.gif"
        data-srcset="/posts/backup-dataverse-development-environment/vid4.gif, vid4.gif 1.5x, /posts/backup-dataverse-development-environment/vid4.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/vid4.gif"
        title="/posts/backup-dataverse-development-environment/vid4.gif" /></p>
<h3 id="step-5-after-a-little-while-approval-comes-through">Step 5: After a little while approval comes through</h3>
<p>An email comes through outlining that parallelism in Azure DevOps has been enabled.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="vid5.gif"
        data-srcset="/posts/backup-dataverse-development-environment/vid5.gif, vid5.gif 1.5x, /posts/backup-dataverse-development-environment/vid5.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/vid5.gif"
        title="/posts/backup-dataverse-development-environment/vid5.gif" /></p>
<h3 id="step-6-lets-try-again">Step 6: Lets try again</h3>
<p>Trying again we can now see our pipeline ran successfully. We now have a working Pipeline.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="vid6.gif"
        data-srcset="/posts/backup-dataverse-development-environment/vid6.gif, vid6.gif 1.5x, /posts/backup-dataverse-development-environment/vid6.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/vid6.gif"
        title="/posts/backup-dataverse-development-environment/vid6.gif" /></p>
<h3 id="step-7-lets-edit-our-pipeline">Step 7: Lets edit our pipeline</h3>
<p>We now need to edit our pipeline, and start adding the actions to export our components from dataverse.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="vid7.gif"
        data-srcset="/posts/backup-dataverse-development-environment/vid7.gif, vid7.gif 1.5x, /posts/backup-dataverse-development-environment/vid7.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/vid7.gif"
        title="/posts/backup-dataverse-development-environment/vid7.gif" /></p>
<h3 id="step-8">Step 8</h3>
<p>Next we are going to set the name and some variables to the below;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">name: $(TeamProject)_$(BuildDefinitionName)_$(SourceBranchName)_$(Date:yyyyMMdd)$(Rev:.r)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">variables</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>-<span class="w"> </span><span class="l">name: varPowerPlatformSPN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">value: &lt;YOUR SERVICE CONNECTION&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>-<span class="w"> </span><span class="l">name: varSolutionName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">value: &lt;YOUR SOLUTION NAME&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>-<span class="w"> </span><span class="l">name: varWebsiteId</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">value: &lt;YOUR WEBSITE ID IN HERE&gt;</span><span class="w">
</span></span></span></code></pre></div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="vid8.gif"
        data-srcset="/posts/backup-dataverse-development-environment/vid8.gif, vid8.gif 1.5x, /posts/backup-dataverse-development-environment/vid8.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/vid8.gif"
        title="/posts/backup-dataverse-development-environment/vid8.gif" /></p>
<h3 id="step-9-set-a-sechedule-for-our-pipeline">Step 9: Set a sechedule for our pipeline</h3>
<p>Then we are going to set a schedule for our pipeline to trigger on. In this example it will trigger on the hour, at midnight, 1pm, 6pm, Monday to Friday every week.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">trigger</span><span class="p">:</span><span class="w"> </span><span class="l">none</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">schedules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">cron</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="m">13</span><span class="p">,</span><span class="m">18</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span><span class="m">1-5</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">displayName</span><span class="p">:</span><span class="w"> </span><span class="l">Weekday Backup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">include</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">always</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step9-set_schedule_dataverse_backup.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step9-set_schedule_dataverse_backup.gif, step9-set_schedule_dataverse_backup.gif 1.5x, /posts/backup-dataverse-development-environment/step9-set_schedule_dataverse_backup.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step9-set_schedule_dataverse_backup.gif"
        title="/posts/backup-dataverse-development-environment/step9-set_schedule_dataverse_backup.gif" /></p>
<h3 id="step-10-update-our-variables">Step 10: Update our variables</h3>
<p>Next we need to update our variables, with value to link the pipeline to our environment.</p>
<p>In this example I am using the below values, make sure you change these for your pipeline.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">variables</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">varPowerPlatformSPN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">Dataverse - Backup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">varSolutionName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">ModelDrivenAppHelpPage</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">varWebsiteId</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">98a716a8-c592-476c-bc5d-aefde10a8b5d</span><span class="w">
</span></span></span></code></pre></div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step10-update_c.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step10-update_c.gif, step10-update_c.gif 1.5x, /posts/backup-dataverse-development-environment/step10-update_c.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step10-update_c.gif"
        title="/posts/backup-dataverse-development-environment/step10-update_c.gif" /></p>
<h3 id="step-11-change-vm-pool">Step 11: Change VM pool</h3>
<p>Next we are going to change the vm pool image over to be <code>vmImage: 'windows-latest'</code>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step11-change_vm_pool-dataverse_backup_pipeline.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step11-change_vm_pool-dataverse_backup_pipeline.gif, step11-change_vm_pool-dataverse_backup_pipeline.gif 1.5x, /posts/backup-dataverse-development-environment/step11-change_vm_pool-dataverse_backup_pipeline.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step11-change_vm_pool-dataverse_backup_pipeline.gif"
        title="/posts/backup-dataverse-development-environment/step11-change_vm_pool-dataverse_backup_pipeline.gif" /></p>
<h3 id="step-12-check-out-our-repository">Step 12: Check out our Repository</h3>
<p>We want to check out the repository that we want to update with the latest solution export from Power Platform.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl">-<span class="w"> </span><span class="l">checkout: self</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">persistCredentials: true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="l">clean: true</span><span class="w">
</span></span></span></code></pre></div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step12-check_out_our_repository.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step12-check_out_our_repository.gif, step12-check_out_our_repository.gif 1.5x, /posts/backup-dataverse-development-environment/step12-check_out_our_repository.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step12-check_out_our_repository.gif"
        title="/posts/backup-dataverse-development-environment/step12-check_out_our_repository.gif" /></p>
<h3 id="step-13-add-build-tools">Step 13: Add build tools</h3>
<p>Delete what is already there and add in the Power Platform build tool step
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step13-add_build_tools.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step13-add_build_tools.gif, step13-add_build_tools.gif 1.5x, /posts/backup-dataverse-development-environment/step13-add_build_tools.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step13-add_build_tools.gif"
        title="/posts/backup-dataverse-development-environment/step13-add_build_tools.gif" /></p>
<h3 id="step-14-add-who-am-i-and-then-test">Step 14: Add Who am I and then Test</h3>
<p>Add in the Who Am I step so we can test the connection, and then don&rsquo;t forget to change over the variable to make it easier to re-use the pipeline later on future projects.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step14-add_who_am_i.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step14-add_who_am_i.gif, step14-add_who_am_i.gif 1.5x, /posts/backup-dataverse-development-environment/step14-add_who_am_i.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step14-add_who_am_i.gif"
        title="/posts/backup-dataverse-development-environment/step14-add_who_am_i.gif" /></p>
<h3 id="step-15-lets-test-it">Step 15: Lets test it</h3>
<p>Lets test our work so far.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step15-Lets_test_it.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step15-Lets_test_it.gif, step15-Lets_test_it.gif 1.5x, /posts/backup-dataverse-development-environment/step15-Lets_test_it.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step15-Lets_test_it.gif"
        title="/posts/backup-dataverse-development-environment/step15-Lets_test_it.gif" /></p>
<h3 id="step-16-set-version-number">Step 16: Set version number</h3>
<p>Now that it&rsquo;s working we are going to set the solution version, we can do this by adding a task in, called <strong>Set Solution Version</strong>. Once we add this task we are going to update it with out variable for the <strong>Power Platform SPN</strong>, and <strong>Solution Name</strong>. Then we are going to set the <strong>Solution Version Number</strong> to be <code>'1.0.0.$(Build.BuildID)'</code>. This pulls in the Build ID ensuring that the solution number is always unique.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step16-set_solution_version.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step16-set_solution_version.gif, step16-set_solution_version.gif 1.5x, /posts/backup-dataverse-development-environment/step16-set_solution_version.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step16-set_solution_version.gif"
        title="/posts/backup-dataverse-development-environment/step16-set_solution_version.gif" /></p>
<h3 id="step-17-export-the-solution-as-managed">Step 17: Export the solution as Managed</h3>
<p>Then we are going to export the solution, once again we are going to set the <strong>Power Platform SPN</strong>, <strong>Solution Name</strong>, we are also going to set the <strong>Solution Output File</strong> to <code>$(Build.ArtifactStagingDirectory)\$(varSolutionName)_managed.zip</code>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step17-export_the-sollution.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step17-export_the-sollution.gif, step17-export_the-sollution.gif 1.5x, /posts/backup-dataverse-development-environment/step17-export_the-sollution.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step17-export_the-sollution.gif"
        title="/posts/backup-dataverse-development-environment/step17-export_the-sollution.gif" /></p>
<h3 id="step-18-export-the-solution-as-un-managed">Step 18: Export the solution as Un-Managed</h3>
<p>Next we are going to copy the YAML from our last step and then change it slightly to get our unmanaged solution.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step18-export_as_unmanaged.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step18-export_as_unmanaged.gif, step18-export_as_unmanaged.gif 1.5x, /posts/backup-dataverse-development-environment/step18-export_as_unmanaged.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step18-export_as_unmanaged.gif"
        title="/posts/backup-dataverse-development-environment/step18-export_as_unmanaged.gif" /></p>
<h3 id="step-19-unpack-solution">Step 19: Unpack solution</h3>
<p>Then unpack the solution, this allows us to see what&rsquo;s changed inside between runs. For this step we will set <strong>Solution Input File</strong> to <code>$(Build.ArtifactStagingDirectory)\$(varSolutionName).zip'</code>, and the <strong>Solution Target Folder</strong> to <code>'$(Build.SourcesDirectory)\src\solutions\$(varSolutionName)'</code>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step19-unpack_solution.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step19-unpack_solution.gif, step19-unpack_solution.gif 1.5x, /posts/backup-dataverse-development-environment/step19-unpack_solution.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step19-unpack_solution.gif"
        title="/posts/backup-dataverse-development-environment/step19-unpack_solution.gif" /></p>
<h3 id="step-20-commit-it">Step 20: Commit it</h3>
<p>We are going to commit these changes to our repository.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl"><span class="k">echo</span> commit all changes
</span></span><span class="line"><span class="cl">git config user.email <span class="s2">&#34;$(Build.RequestedForEmail)&#34;</span> 
</span></span><span class="line"><span class="cl">git config user.name <span class="s2">&#34;$(Build.RequestedFor)&#34;</span> 
</span></span><span class="line"><span class="cl">git checkout -b main 
</span></span><span class="line"><span class="cl">git add --all 
</span></span><span class="line"><span class="cl">git commit -m <span class="s2">&#34;Latest solution changes.&#34;</span> 
</span></span><span class="line"><span class="cl"><span class="k">echo</span> push code to new repo 
</span></span><span class="line"><span class="cl">git -c http.extraheader=<span class="s2">&#34;AUTHORIZATION: bearer $(System.AccessToken)&#34;</span> push origin main
</span></span></code></pre></div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step20-commit_it.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step20-commit_it.gif, step20-commit_it.gif 1.5x, /posts/backup-dataverse-development-environment/step20-commit_it.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step20-commit_it.gif"
        title="/posts/backup-dataverse-development-environment/step20-commit_it.gif" /></p>
<h3 id="step-21-lets-check-if-it-worked">Step 21: Lets check if it worked</h3>
<p>Next lets check if it worked.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step21a-lets_check_if_itworked.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step21a-lets_check_if_itworked.gif, step21a-lets_check_if_itworked.gif 1.5x, /posts/backup-dataverse-development-environment/step21a-lets_check_if_itworked.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step21a-lets_check_if_itworked.gif"
        title="/posts/backup-dataverse-development-environment/step21a-lets_check_if_itworked.gif" /></p>
<p>Oh no let&rsquo;s see if we can fix it.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step21b-fixit.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step21b-fixit.gif, step21b-fixit.gif 1.5x, /posts/backup-dataverse-development-environment/step21b-fixit.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step21b-fixit.gif"
        title="/posts/backup-dataverse-development-environment/step21b-fixit.gif" /></p>
<p>Let&rsquo;s test it again.
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step21c-testagain.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step21c-testagain.gif, step21c-testagain.gif 1.5x, /posts/backup-dataverse-development-environment/step21c-testagain.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step21c-testagain.gif"
        title="/posts/backup-dataverse-development-environment/step21c-testagain.gif" /></p>
<h3 id="step-22-take-a-look-at-the-repo">Step 22: Take a look at the Repo</h3>
<p>Looking at the repo
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="step23-look_at_repo.gif"
        data-srcset="/posts/backup-dataverse-development-environment/step23-look_at_repo.gif, step23-look_at_repo.gif 1.5x, /posts/backup-dataverse-development-environment/step23-look_at_repo.gif 2x"
        data-sizes="auto"
        alt="/posts/backup-dataverse-development-environment/step23-look_at_repo.gif"
        title="/posts/backup-dataverse-development-environment/step23-look_at_repo.gif" /></p>
<h2 id="pipeline-script-in-full">Pipeline Script in Full</h2>
<p>Here is the YAML pipeline script in full</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">$(TeamProject)_$(BuildDefinitionName)_$(SourceBranchName)_$(Date:yyyyMMdd)$(Rev:.r)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">variables</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">varPowerPlatformSPN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">Dataverse - Backup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">varSolutionName</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">ModelDrivenAppHelpPage</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">varWebsiteId</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">98a716a8-c592-476c-bc5d-aefde10a8b5d</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">trigger</span><span class="p">:</span><span class="w"> </span><span class="l">none</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">schedules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">cron</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="m">13</span><span class="p">,</span><span class="m">18</span><span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span><span class="m">1-5</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">displayName</span><span class="p">:</span><span class="w"> </span><span class="l">Weekday Backup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">include</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">main</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">always</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">pool</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">vmImage</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;windows-latest&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">checkout</span><span class="p">:</span><span class="w"> </span><span class="l">self</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">persistCredentials</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">clean</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l">PowerPlatformToolInstaller@2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">inputs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">DefaultVersion</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">AddToolsToPath</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l">PowerPlatformWhoAmi@2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">inputs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">authenticationType</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;PowerPlatformSPN&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">PowerPlatformSPN</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(varPowerPlatformSPN)&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l">PowerPlatformSetSolutionVersion@2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">inputs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">authenticationType</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;PowerPlatformSPN&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">PowerPlatformSPN</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(varPowerPlatformSPN)&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">SolutionName</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(varSolutionName)&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">SolutionVersionNumber</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;1.0.0.$(Build.BuildID)&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l">PowerPlatformExportSolution@2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">inputs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">authenticationType</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;PowerPlatformSPN&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">PowerPlatformSPN</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(varPowerPlatformSPN)&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">SolutionName</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(varSolutionName)&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">SolutionOutputFile</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(Build.ArtifactStagingDirectory)\$(varSolutionName)_managed.zip&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">Managed</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">AsyncOperation</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">MaxAsyncWaitTime</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;60&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l">PowerPlatformExportSolution@2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">inputs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">authenticationType</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;PowerPlatformSPN&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">PowerPlatformSPN</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(varPowerPlatformSPN)&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">SolutionName</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(varSolutionName)&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">SolutionOutputFile</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(Build.ArtifactStagingDirectory)\$(varSolutionName).zip&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">Managed</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">AsyncOperation</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">MaxAsyncWaitTime</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;60&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l">PowerPlatformUnpackSolution@2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">inputs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">SolutionInputFile</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(Build.ArtifactStagingDirectory)\$(varSolutionName).zip&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">SolutionTargetFolder</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;$(Build.SourcesDirectory)\src\solutions\$(varSolutionName)&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">SolutionType</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;Both&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">task</span><span class="p">:</span><span class="w"> </span><span class="l">CmdLine@2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">inputs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">      echo commit all changes
</span></span></span><span class="line"><span class="cl"><span class="sd">      git config user.email &#34;$(Build.RequestedForEmail)&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">      git config user.name &#34;$(Build.RequestedFor)&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">      git checkout -b main
</span></span></span><span class="line"><span class="cl"><span class="sd">      git add --all
</span></span></span><span class="line"><span class="cl"><span class="sd">      git commit -m &#34;Latest solution changes.&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">      echo push code to new repo
</span></span></span><span class="line"><span class="cl"><span class="sd">      git -c http.extraheader=&#34;AUTHORIZATION: bearer $(System.AccessToken)&#34; push origin main</span><span class="w">      
</span></span></span></code></pre></div><h2 id="conclusion--next-vlog">Conclusion &amp; Next vlog</h2>
<p>Implementing a DevOps pipeline for backing up your Dataverse development environment is an essential practice that safeguards your work against unexpected issues and errors. By automating this process, you ensure that every change is recorded, making it easier to track modifications and recover from mistakes quickly. This pipeline provides a robust safety net, helping you avoid the frustration of lost progress and ensuring that your development efforts are always protected.</p>
<p>In the next post, I will delve deeper into this pipeline by adding advanced features, such as integrating Power Pages Portal, exploring and tracking changes in XML files, utilizing environment variables more effectively, and automatically generating wiki articles based on your solution components. These enhancements will further streamline your DevOps process and provide even greater control and visibility over your development environment.</p>
<p>If you have any questions or need more details on any of the prerequisite steps mentioned, feel free to leave a comment on the YouTube video. I am happy to create additional content to address those topics and help you get the most out of your DevOps setup.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/power-platform-devops/">Power Platform DevOps</a>
                </span><span><a href="/tags/devops/">DevOps</a>
                </span><span><a href="/tags/backup/">Backup</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>Updated on 2024-09-03</span>
            </div><div class="post-info-mod"></div>
        </div><div class="post-info-share">
            <span><a href="#" onclick="return false;" title="Share on Twitter" data-sharer="twitter" data-url="http://localhost:1313/posts/backup-dataverse-development-environment/" data-title="Backup Dataverse Development Environment" data-via="itweedie" data-hashtags="Power Platform DevOps,DevOps,Backup"><i class="fa-brands fa-square-x-twitter fa-fw"></i></a><a href="#" onclick="return false;" title="Share on Facebook" data-sharer="facebook" data-url="http://localhost:1313/posts/backup-dataverse-development-environment/" data-hashtag="Power Platform DevOps"><i class="fa-brands fa-facebook-square fa-fw"></i></a><a href="#" onclick="return false;" title="Share on Linkedin" data-sharer="linkedin" data-url="http://localhost:1313/posts/backup-dataverse-development-environment/"><i class="fa-brands fa-linkedin fa-fw"></i></a><a href="#" onclick="return false;" title="Share on WhatsApp" data-sharer="whatsapp" data-url="http://localhost:1313/posts/backup-dataverse-development-environment/" data-title="Backup Dataverse Development Environment" data-web><i class="fa-brands fa-whatsapp fa-fw"></i></a></span>
        </div></div><div class="post-nav"><a href="/posts/securing-power-automate-for-production/" class="prev" rel="prev" title="Securing Power Automate for Production"><i class="fa-solid fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/posts/calculate-working-day/" class="next" rel="next" title="Calculate Working Day">Next Post<i class="fa-solid fa-angle-right fa-fw"></i></a></div></div>
</div></article></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line">Tech Tweedie Blog</div><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.126.1">Hugo</a> | Theme - <a href="https://github.com/khusika/FeelIt" target="_blank" rel="noopener noreffer" title="FeelIt 1.0.2"><i class="fa-solid fa-hand-holding-heart fa-fw"></i> FeelIt</a>
        </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/"></a></span></div>
</div>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fa-solid fa-chevron-up fa-fw"></i>
            </a></div><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><script src="/lib/lazysizes/lazysizes.min.js"></script><script src="/lib/typeit/typeit.min.js"></script><script src="/lib/lightgallery/lightgallery.min.js"></script><script src="/lib/lightgallery/lg-thumbnail.min.js"></script><script src="/lib/lightgallery/lg-zoom.min.js"></script><script src="/lib/clipboard/clipboard.min.js"></script><script src="/lib/sharer/sharer.min.js"></script><script>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"data":{"id-1":"Tech Tweedie","id-2":"Tech Tweedie"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"typeit":{"cursorChar":null,"cursorSpeed":null,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":null,"speed":null}};</script><script src="/js/theme.min.js"></script></body></html>
